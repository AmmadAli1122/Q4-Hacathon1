<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-physical-ai/module-2-digital-twin/chapter-3-perception-unity" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Chapter 3 - Perception in Simulation — Unity &amp; Virtual Sensors | Physical AI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/docs/physical-ai/module-2-digital-twin/chapter-3-perception-unity"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chapter 3 - Perception in Simulation — Unity &amp; Virtual Sensors | Physical AI"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/docs/physical-ai/module-2-digital-twin/chapter-3-perception-unity"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/physical-ai/module-2-digital-twin/chapter-3-perception-unity" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/physical-ai/module-2-digital-twin/chapter-3-perception-unity" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Chapter 3: Perception in Simulation — Unity & Virtual Sensors","item":"https://your-docusaurus-site.example.com/docs/physical-ai/module-2-digital-twin/chapter-3-perception-unity"}]}</script><link rel="stylesheet" href="/assets/css/styles.8781a52b.css">
<script src="/assets/js/runtime~main.ac702ab4.js" defer="defer"></script>
<script src="/assets/js/main.cdee06e1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/physical-ai/module-1-ros2/chapter-1-robotic-nervous-system"><span title="Module 1: The Robotic Nervous System (ROS 2)" class="categoryLinkLabel_W154">Module 1: The Robotic Nervous System (ROS 2)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/physical-ai/module-2-digital-twin/chapter-1-digital-twin-reality"><span title="Module 2: The Digital Twin (Gazebo &amp; Unity)" class="categoryLinkLabel_W154">Module 2: The Digital Twin (Gazebo &amp; Unity)</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/physical-ai/module-2-digital-twin/chapter-1-digital-twin-reality"><span title="Chapter 1: The Digital Twin — Simulating Reality" class="linkLabel_WmDU">Chapter 1: The Digital Twin — Simulating Reality</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/physical-ai/module-2-digital-twin/chapter-2-physics-gazebo"><span title="Chapter 2: Physics Comes Alive — Gazebo Simulation" class="linkLabel_WmDU">Chapter 2: Physics Comes Alive — Gazebo Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/physical-ai/module-2-digital-twin/chapter-3-perception-unity"><span title="Chapter 3: Perception in Simulation — Unity &amp; Virtual Sensors" class="linkLabel_WmDU">Chapter 3: Perception in Simulation — Unity &amp; Virtual Sensors</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/physical-ai/module-3-nvidia-isaac/chapter-1-nvidia-isaac-intelligence"><span title="Module 3: The AI-Robot Brain (NVIDIA Isaac™)" class="categoryLinkLabel_W154">Module 3: The AI-Robot Brain (NVIDIA Isaac™)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/physical-ai/module-4-vla/chapter-1-vision-language-action-words-to-motion"><span title="Module 4: Vision–Language–Action (VLA)" class="categoryLinkLabel_W154">Module 4: Vision–Language–Action (VLA)</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Module 2: The Digital Twin (Gazebo &amp; Unity)</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Chapter 3: Perception in Simulation — Unity &amp; Virtual Sensors</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Chapter 3: Perception in Simulation — Unity &amp; Virtual Sensors</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" translate="no">​</a></h2>
<p>While Gazebo handles the physics simulation of robotic systems, Unity provides the photorealistic rendering and advanced sensor simulation capabilities necessary for developing perception systems. This chapter explores how Unity serves as a platform for creating realistic sensor data that closely matches what robots encounter in the real world, bridging the gap between simulation and reality for AI perception systems.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="unitys-role-in-photorealistic-rendering">Unity&#x27;s Role in Photorealistic Rendering<a href="#unitys-role-in-photorealistic-rendering" class="hash-link" aria-label="Direct link to Unity&#x27;s Role in Photorealistic Rendering" title="Direct link to Unity&#x27;s Role in Photorealistic Rendering" translate="no">​</a></h2>
<p>Unity is a powerful 3D development platform that excels at creating photorealistic environments and sensor data. In the context of robotics simulation, Unity serves several critical functions:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="high-fidelity-visual-rendering">High-Fidelity Visual Rendering<a href="#high-fidelity-visual-rendering" class="hash-link" aria-label="Direct link to High-Fidelity Visual Rendering" title="Direct link to High-Fidelity Visual Rendering" translate="no">​</a></h3>
<ul>
<li class=""><strong>Realistic Lighting</strong>: Physically-based rendering (PBR) materials and global illumination</li>
<li class=""><strong>Accurate Textures</strong>: High-resolution textures that match real-world surfaces</li>
<li class=""><strong>Dynamic Lighting</strong>: Time-of-day and weather variations</li>
<li class=""><strong>Environmental Effects</strong>: Fog, rain, dust, and other atmospheric conditions</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-graphics-features">Advanced Graphics Features<a href="#advanced-graphics-features" class="hash-link" aria-label="Direct link to Advanced Graphics Features" title="Direct link to Advanced Graphics Features" translate="no">​</a></h3>
<ul>
<li class=""><strong>Ray Tracing</strong>: Accurate light behavior simulation</li>
<li class=""><strong>Anti-aliasing</strong>: Smooth edges and realistic image quality</li>
<li class=""><strong>Post-processing Effects</strong>: Depth of field, motion blur, and color grading</li>
<li class=""><strong>Real-time Reflections</strong>: Accurate mirror and glossy surface reflections</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-optimization">Performance Optimization<a href="#performance-optimization" class="hash-link" aria-label="Direct link to Performance Optimization" title="Direct link to Performance Optimization" translate="no">​</a></h3>
<ul>
<li class=""><strong>Level of Detail (LOD)</strong>: Automatic mesh simplification at distance</li>
<li class=""><strong>Occlusion Culling</strong>: Not rendering objects not visible to the camera</li>
<li class=""><strong>Texture Streaming</strong>: Loading textures as needed to save memory</li>
<li class=""><strong>Shader Optimization</strong>: Efficient rendering algorithms for complex scenes</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="human-robot-interaction-in-simulated-environments">Human-Robot Interaction in Simulated Environments<a href="#human-robot-interaction-in-simulated-environments" class="hash-link" aria-label="Direct link to Human-Robot Interaction in Simulated Environments" title="Direct link to Human-Robot Interaction in Simulated Environments" translate="no">​</a></h2>
<p>Unity provides an excellent platform for simulating human-robot interaction scenarios:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="character-animation">Character Animation<a href="#character-animation" class="hash-link" aria-label="Direct link to Character Animation" title="Direct link to Character Animation" translate="no">​</a></h3>
<ul>
<li class=""><strong>Realistic Human Models</strong>: Detailed 3D characters with natural movements</li>
<li class=""><strong>Behavior Simulation</strong>: AI-controlled humans with realistic behaviors</li>
<li class=""><strong>Gesture Recognition</strong>: Simulated human gestures for robot perception</li>
<li class=""><strong>Social Interaction</strong>: Complex social scenarios for robot learning</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="environmental-interaction">Environmental Interaction<a href="#environmental-interaction" class="hash-link" aria-label="Direct link to Environmental Interaction" title="Direct link to Environmental Interaction" translate="no">​</a></h3>
<ul>
<li class=""><strong>Dynamic Objects</strong>: Humans interacting with doors, furniture, and tools</li>
<li class=""><strong>Crowd Simulation</strong>: Multiple humans in the environment</li>
<li class=""><strong>Contextual Behaviors</strong>: Humans performing specific tasks in specific locations</li>
<li class=""><strong>Emotional States</strong>: Simulated human emotions affecting interaction patterns</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="simulating-critical-sensors">Simulating Critical Sensors<a href="#simulating-critical-sensors" class="hash-link" aria-label="Direct link to Simulating Critical Sensors" title="Direct link to Simulating Critical Sensors" translate="no">​</a></h2>
<p>Unity provides sophisticated capabilities for simulating various types of sensors that robots use for perception:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="lidar-simulation">LiDAR Simulation<a href="#lidar-simulation" class="hash-link" aria-label="Direct link to LiDAR Simulation" title="Direct link to LiDAR Simulation" translate="no">​</a></h3>
<p>LiDAR (Light Detection and Ranging) sensors are crucial for robotics applications. Unity simulates LiDAR through raycasting:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// LiDAR Simulation in Unity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections.Generic;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class LidarSimulation : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;LiDAR Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int numberOfRays = 360;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float maxDistance = 10.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float minDistance = 0.1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float fov = 360.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;float&gt; ranges;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ranges = new List&lt;float&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SimulateLidarScan();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SimulateLidarScan()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ranges.Clear();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; numberOfRays; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            float angle = (i * fov / numberOfRays) * Mathf.Deg2Rad;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Vector3 direction = new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Mathf.Cos(angle),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Mathf.Sin(angle)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            RaycastHit hit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (Physics.Raycast(transform.position, direction, out hit, maxDistance))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                float distance = hit.distance;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ranges.Add(distance);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ranges.Add(maxDistance);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish ranges to ROS 2 topic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PublishLidarData(ranges);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void PublishLidarData(List&lt;float&gt; ranges)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // This would interface with ROS# to publish sensor_msgs/LaserScan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Implementation depends on ROS# integration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="depth-camera-simulation">Depth Camera Simulation<a href="#depth-camera-simulation" class="hash-link" aria-label="Direct link to Depth Camera Simulation" title="Direct link to Depth Camera Simulation" translate="no">​</a></h3>
<p>Depth cameras provide 3D information about the environment:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Depth Camera Simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DepthCameraSimulation : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Depth Camera Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Camera depthCamera;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public RenderTexture depthTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float maxDepth = 10.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetupDepthCamera();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetupDepthCamera()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (depthCamera == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            depthCamera = GetComponent&lt;Camera&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depthTexture = new RenderTexture(640, 480, 24);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depthCamera.targetTexture = depthTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depthCamera.SetReplacementShader(Shader.Find(&quot;Hidden/DepthOnly&quot;), &quot;RenderType&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // The depth texture contains depth information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // This can be processed and published as sensor_msgs/Image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float GetDepthAt(int x, int y)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Sample depth value at specific pixel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = depthTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Texture2D tex = new Texture2D(depthTexture.width, depthTexture.height, TextureFormat.RGB24, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tex.ReadPixels(new Rect(0, 0, depthTexture.width, depthTexture.height), 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tex.Apply();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color color = tex.GetPixel(x, y);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float depthValue = color.r * maxDepth; // Simplified depth calculation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DestroyImmediate(tex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return depthValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="imu-simulation">IMU Simulation<a href="#imu-simulation" class="hash-link" aria-label="Direct link to IMU Simulation" title="Direct link to IMU Simulation" translate="no">​</a></h3>
<p>Inertial Measurement Units (IMUs) provide acceleration and orientation data:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// IMU Simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class IMUSimulation : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;IMU Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float noiseLevel = 0.01f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float driftRate = 0.001f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Vector3 acceleration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Vector3 angularVelocity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Vector3 orientation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SimulateIMU();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PublishIMUData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SimulateIMU()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Calculate acceleration based on physics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        acceleration = Physics.gravity + (transform.position - transform.position) / Time.deltaTime; // Simplified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add noise to simulate real IMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        acceleration += Random.insideUnitSphere * noiseLevel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Calculate angular velocity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        angularVelocity = transform.angularVelocity + Random.insideUnitSphere * noiseLevel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Calculate orientation (quaternion)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        orientation = transform.rotation.eulerAngles;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void PublishIMUData()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish to ROS 2 sensor_msgs/Imu topic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Implementation depends on ROS# integration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rgb-camera-simulation">RGB Camera Simulation<a href="#rgb-camera-simulation" class="hash-link" aria-label="Direct link to RGB Camera Simulation" title="Direct link to RGB Camera Simulation" translate="no">​</a></h3>
<p>RGB cameras provide visual information for computer vision applications:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// RGB Camera Simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RGBCameraSimulation : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;RGB Camera Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Camera rgbCamera;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int width = 640;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int height = 480;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private RenderTexture renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetupRGBCamera();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetupRGBCamera()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (rgbCamera == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rgbCamera = GetComponent&lt;Camera&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        renderTexture = new RenderTexture(width, height, 24);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rgbCamera.targetTexture = renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Texture2D CaptureImage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Texture2D image = new Texture2D(width, height, TextureFormat.RGB24, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image.ReadPixels(new Rect(0, 0, width, height), 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image.Apply();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return image;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Capture and publish image data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Texture2D image = CaptureImage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish to ROS 2 sensor_msgs/Image topic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-simulated-sensor-data-feeds-ros-2-pipelines">How Simulated Sensor Data Feeds ROS 2 Pipelines<a href="#how-simulated-sensor-data-feeds-ros-2-pipelines" class="hash-link" aria-label="Direct link to How Simulated Sensor Data Feeds ROS 2 Pipelines" title="Direct link to How Simulated Sensor Data Feeds ROS 2 Pipelines" translate="no">​</a></h2>
<p>The integration between Unity&#x27;s sensor simulations and ROS 2 is achieved through the ROS# (ROS Sharp) package:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ros-integration">ROS# Integration<a href="#ros-integration" class="hash-link" aria-label="Direct link to ROS# Integration" title="Direct link to ROS# Integration" translate="no">​</a></h3>
<p>ROS# is a Unity package that enables communication between Unity and ROS 2:</p>
<ol>
<li class=""><strong>Message Types</strong>: ROS# provides Unity-compatible versions of ROS message types</li>
<li class=""><strong>Publishers/Subscribers</strong>: Unity objects can publish to and subscribe from ROS topics</li>
<li class=""><strong>Services</strong>: Unity can call ROS services and provide service servers</li>
<li class=""><strong>Actions</strong>: Support for ROS actionlib for long-running tasks</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="sensor-data-pipeline">Sensor Data Pipeline<a href="#sensor-data-pipeline" class="hash-link" aria-label="Direct link to Sensor Data Pipeline" title="Direct link to Sensor Data Pipeline" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Example of Unity to ROS 2 sensor data pipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RosSharp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RosSharp.SensorData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SensorDataPipeline : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;ROS Connection&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string rosBridgeUrl = &quot;ws://localhost:9090&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private RosSocket rosSocket;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConnectToRosBridge();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConnectToRosBridge()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rosSocket = new RosSocket(RosBridgeProtocol.WebSocketSharp, rosBridgeUrl);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void PublishSensorData()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish LiDAR data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rosSocket.Publish(&quot;laser_scan_topic&quot;, CreateLaserScanMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish camera image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rosSocket.Publish(&quot;camera_image_topic&quot;, CreateImageMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish IMU data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rosSocket.Publish(&quot;imu_data_topic&quot;, CreateImuMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private object CreateLaserScanMessage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create and return LaserScan message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new object(); // Simplified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private object CreateImageMessage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create and return Image message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new object(); // Simplified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private object CreateImuMessage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create and return IMU message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new object(); // Simplified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="preparing-sensor-outputs-for-ai-perception-systems">Preparing Sensor Outputs for AI Perception Systems<a href="#preparing-sensor-outputs-for-ai-perception-systems" class="hash-link" aria-label="Direct link to Preparing Sensor Outputs for AI Perception Systems" title="Direct link to Preparing Sensor Outputs for AI Perception Systems" translate="no">​</a></h2>
<p>Unity&#x27;s simulated sensor data needs to be processed and formatted for AI perception systems:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-format-conversion">Data Format Conversion<a href="#data-format-conversion" class="hash-link" aria-label="Direct link to Data Format Conversion" title="Direct link to Data Format Conversion" translate="no">​</a></h3>
<p>Unity&#x27;s native data formats need to be converted to ROS message formats:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Converting Unity data to ROS formats</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DataFormatConverter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static RosSharp.Messages.Sensor.LaserScan ConvertLaserScan(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;float&gt; ranges,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float angleMin,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float angleMax,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float angleIncrement,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float timeIncrement,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float scanTime,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float rangeMin,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float rangeMax)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RosSharp.Messages.Sensor.LaserScan laserScan = new RosSharp.Messages.Sensor.LaserScan();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        laserScan.header = CreateHeader();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        laserScan.angle_min = angleMin;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        laserScan.angle_max = angleMax;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        laserScan.angle_increment = angleIncrement;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        laserScan.time_increment = timeIncrement;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        laserScan.scan_time = scanTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        laserScan.range_min = rangeMin;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        laserScan.range_max = rangeMax;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        laserScan.ranges = ranges.ToArray();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return laserScan;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static RosSharp.Messages.Std.Header CreateHeader()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RosSharp.Messages.Std.Header header = new RosSharp.Messages.Std.Header();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        header.stamp = new RosSharp.Messages.Std.Time();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        header.frame_id = &quot;laser_frame&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return header;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-quality-assurance">Data Quality Assurance<a href="#data-quality-assurance" class="hash-link" aria-label="Direct link to Data Quality Assurance" title="Direct link to Data Quality Assurance" translate="no">​</a></h3>
<p>Ensuring the simulated data quality matches real-world expectations:</p>
<ul>
<li class=""><strong>Noise Modeling</strong>: Adding realistic noise patterns to sensor data</li>
<li class=""><strong>Latency Simulation</strong>: Adding realistic communication delays</li>
<li class=""><strong>Data Drop Simulation</strong>: Simulating packet loss in communication</li>
<li class=""><strong>Calibration Parameters</strong>: Including realistic calibration errors</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ai-training-preparation">AI Training Preparation<a href="#ai-training-preparation" class="hash-link" aria-label="Direct link to AI Training Preparation" title="Direct link to AI Training Preparation" translate="no">​</a></h3>
<p>Preparing the data for AI training pipelines:</p>
<ul>
<li class=""><strong>Dataset Generation</strong>: Creating large, diverse datasets from simulation</li>
<li class=""><strong>Annotation Tools</strong>: Automatically annotating simulation data</li>
<li class=""><strong>Domain Adaptation</strong>: Techniques to bridge simulation-to-reality gap</li>
<li class=""><strong>Validation Metrics</strong>: Comparing simulated vs. real sensor data</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-unity-simulation-techniques">Advanced Unity Simulation Techniques<a href="#advanced-unity-simulation-techniques" class="hash-link" aria-label="Direct link to Advanced Unity Simulation Techniques" title="Direct link to Advanced Unity Simulation Techniques" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="realistic-material-simulation">Realistic Material Simulation<a href="#realistic-material-simulation" class="hash-link" aria-label="Direct link to Realistic Material Simulation" title="Direct link to Realistic Material Simulation" translate="no">​</a></h3>
<p>Creating materials that respond realistically to sensors:</p>
<ul>
<li class=""><strong>BRDF Modeling</strong>: Bidirectional Reflectance Distribution Function for realistic lighting</li>
<li class=""><strong>Subsurface Scattering</strong>: For materials like skin, wax, or marble</li>
<li class=""><strong>Anisotropic Reflection</strong>: For materials with directional properties</li>
<li class=""><strong>Transparency and Refraction</strong>: For glass and other transparent materials</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-sensor-simulation">Advanced Sensor Simulation<a href="#advanced-sensor-simulation" class="hash-link" aria-label="Direct link to Advanced Sensor Simulation" title="Direct link to Advanced Sensor Simulation" translate="no">​</a></h3>
<ul>
<li class=""><strong>Multi-spectral Simulation</strong>: Beyond visible light (IR, UV, etc.)</li>
<li class=""><strong>Polarization Effects</strong>: Simulating polarized light interactions</li>
<li class=""><strong>Dynamic Range</strong>: Simulating high dynamic range sensors</li>
<li class=""><strong>Temporal Effects</strong>: Motion blur, rolling shutter, etc.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-optimization-1">Performance Optimization<a href="#performance-optimization-1" class="hash-link" aria-label="Direct link to Performance Optimization" title="Direct link to Performance Optimization" translate="no">​</a></h3>
<ul>
<li class=""><strong>Level of Detail (LOD)</strong>: Adjusting simulation detail based on distance</li>
<li class=""><strong>Occlusion Culling</strong>: Not simulating sensors that can&#x27;t &quot;see&quot; anything</li>
<li class=""><strong>Threading</strong>: Running sensor simulation on separate threads</li>
<li class=""><strong>Batch Processing</strong>: Processing multiple sensor readings together</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices-for-unity-sensor-simulation">Best Practices for Unity Sensor Simulation<a href="#best-practices-for-unity-sensor-simulation" class="hash-link" aria-label="Direct link to Best Practices for Unity Sensor Simulation" title="Direct link to Best Practices for Unity Sensor Simulation" translate="no">​</a></h2>
<ol>
<li class=""><strong>Validate Against Reality</strong>: Compare simulated data with real sensor data</li>
<li class=""><strong>Use Realistic Parameters</strong>: Base simulation parameters on real hardware specifications</li>
<li class=""><strong>Include Noise Models</strong>: Add realistic noise patterns to sensor data</li>
<li class=""><strong>Test Domain Randomization</strong>: Vary simulation parameters to improve robustness</li>
<li class=""><strong>Monitor Performance</strong>: Keep simulation frame rates high for real-time applications</li>
<li class=""><strong>Document Assumptions</strong>: Clearly document simulation limitations and assumptions</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>Unity provides the photorealistic rendering and advanced sensor simulation capabilities necessary for developing AI perception systems. By simulating LiDAR, depth cameras, IMUs, and other sensors with realistic characteristics, Unity enables the creation of training data that closely matches real-world conditions.</p>
<p>The integration between Unity&#x27;s sensor simulations and ROS 2 pipelines creates a comprehensive environment for developing and testing AI perception systems before real-world deployment.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="exercises">Exercises<a href="#exercises" class="hash-link" aria-label="Direct link to Exercises" title="Direct link to Exercises" translate="no">​</a></h2>
<ol>
<li class="">
<p>Implement a Unity scene with a robot equipped with LiDAR and RGB camera, and verify the sensor data is being published to ROS 2 topics.</p>
</li>
<li class="">
<p>Create a Unity environment with multiple objects and test how different materials affect the simulated sensor data.</p>
</li>
<li class="">
<p>Develop a domain randomization approach by varying lighting conditions and observing the impact on perception system performance.</p>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/physical-ai/module-2-digital-twin/chapter-3-perception-unity.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/physical-ai/module-2-digital-twin/chapter-2-physics-gazebo"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Chapter 2: Physics Comes Alive — Gazebo Simulation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/physical-ai/module-3-nvidia-isaac/chapter-1-nvidia-isaac-intelligence"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chapter 1: NVIDIA Isaac — Intelligence for Physical AI</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#unitys-role-in-photorealistic-rendering" class="table-of-contents__link toc-highlight">Unity&#39;s Role in Photorealistic Rendering</a><ul><li><a href="#high-fidelity-visual-rendering" class="table-of-contents__link toc-highlight">High-Fidelity Visual Rendering</a></li><li><a href="#advanced-graphics-features" class="table-of-contents__link toc-highlight">Advanced Graphics Features</a></li><li><a href="#performance-optimization" class="table-of-contents__link toc-highlight">Performance Optimization</a></li></ul></li><li><a href="#human-robot-interaction-in-simulated-environments" class="table-of-contents__link toc-highlight">Human-Robot Interaction in Simulated Environments</a><ul><li><a href="#character-animation" class="table-of-contents__link toc-highlight">Character Animation</a></li><li><a href="#environmental-interaction" class="table-of-contents__link toc-highlight">Environmental Interaction</a></li></ul></li><li><a href="#simulating-critical-sensors" class="table-of-contents__link toc-highlight">Simulating Critical Sensors</a><ul><li><a href="#lidar-simulation" class="table-of-contents__link toc-highlight">LiDAR Simulation</a></li><li><a href="#depth-camera-simulation" class="table-of-contents__link toc-highlight">Depth Camera Simulation</a></li><li><a href="#imu-simulation" class="table-of-contents__link toc-highlight">IMU Simulation</a></li><li><a href="#rgb-camera-simulation" class="table-of-contents__link toc-highlight">RGB Camera Simulation</a></li></ul></li><li><a href="#how-simulated-sensor-data-feeds-ros-2-pipelines" class="table-of-contents__link toc-highlight">How Simulated Sensor Data Feeds ROS 2 Pipelines</a><ul><li><a href="#ros-integration" class="table-of-contents__link toc-highlight">ROS# Integration</a></li><li><a href="#sensor-data-pipeline" class="table-of-contents__link toc-highlight">Sensor Data Pipeline</a></li></ul></li><li><a href="#preparing-sensor-outputs-for-ai-perception-systems" class="table-of-contents__link toc-highlight">Preparing Sensor Outputs for AI Perception Systems</a><ul><li><a href="#data-format-conversion" class="table-of-contents__link toc-highlight">Data Format Conversion</a></li><li><a href="#data-quality-assurance" class="table-of-contents__link toc-highlight">Data Quality Assurance</a></li><li><a href="#ai-training-preparation" class="table-of-contents__link toc-highlight">AI Training Preparation</a></li></ul></li><li><a href="#advanced-unity-simulation-techniques" class="table-of-contents__link toc-highlight">Advanced Unity Simulation Techniques</a><ul><li><a href="#realistic-material-simulation" class="table-of-contents__link toc-highlight">Realistic Material Simulation</a></li><li><a href="#advanced-sensor-simulation" class="table-of-contents__link toc-highlight">Advanced Sensor Simulation</a></li><li><a href="#performance-optimization-1" class="table-of-contents__link toc-highlight">Performance Optimization</a></li></ul></li><li><a href="#best-practices-for-unity-sensor-simulation" class="table-of-contents__link toc-highlight">Best Practices for Unity Sensor Simulation</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#exercises" class="table-of-contents__link toc-highlight">Exercises</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Introduction</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>